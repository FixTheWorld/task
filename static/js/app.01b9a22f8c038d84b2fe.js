webpackJsonp([1],{"4aeZ":function(t,e){},"5LDN":function(t,e,a){var n={"./Header/zh.js":"OhIg"};function r(t){return a(o(t))}function o(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id="5LDN"},"68di":function(t,e,a){"use strict";var n=a("FhoZ"),r=a.n(n),o=(a("JaHG"),a("w7XY")),i={components:{},computed:{},methods:{back:function(){this.$router.push("/login")},checkEmail:function(){},register:function(){var t=this;this.$refs.form.validate(function(e){if(e){var a=t.$loading(r.a.common.loading),n=t.form;o.a.queryData("activationCode",[{operator:"==",data:[{email:n.email},{code:n.activationCode}]}]).then(function(e){if(e.length>0)if(e[0].verified)t.$alert("激活码已经被使用").catch(function(){});else{var a=new o.a.User,r=e[0].objectId;a.setUsername(n.accountName),a.setPassword(n.password),a.setEmail(n.email),a.signUp().then(function(e){e&&o.a.updateData({tableName:"activationCode",objectId:r,data:{verified:!0}}).then(function(e){t.$msg("注册成功"),t.$linkTo("/login")}).catch(function(e){t.$msg("error:"+e)})}).catch(function(e){t.$alert(t.$t("")+",error"+e).catch(function(){})})}else t.$alert("邮箱和激活码不一致").catch(function(){})}).catch(function(e){t.$alert(t.$t("")+"error"+e).catch(function(){})}).finally(function(){a.close()})}})},sendSms:function(){var t=this.form.mobile;if(console.log("mobile",t),t){/^[1][3,4,5,7,8][0-9]{9}$/.test(t)||this.$alert(this.$t("InvalidPhoneNumber")).catch(function(){})}else this.$alert(this.$t("InvalidPhoneNumber")).catch(function(){})}},data:function(){return{titleArr:["Wo","rld"],form:{accountName:"",password:"",mobile:"",email:"",code:"",activationCode:"",verifyType:"sms"},sendButton:this.$t("Send"),sendButtonDisabled:!1,checkRules:{accountName:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],email:[{required:!0,validator:function(t,e,a){e||a(new Error("请输入邮箱地址"));/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(e)||a(new Error("邮箱格式不正确")),a()},trigger:"blur"}],mobile:[{required:!0,message:this.$t("Input_phone"),trigger:"blur"}],activationCode:[{required:!0,message:"请输入激活码",trigger:"blur"}],code:[{required:!0,message:"",trigger:"blur"}]}}},created:function(){},mounted:function(){}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"rg"},[a("el-main",{staticClass:"rg-main"},[a("el-form",{ref:"form",staticClass:"rg-form cm-flex",attrs:{"label-position":"left","label-width":"15px",model:t.form,size:"medium",rules:t.checkRules}},[a("div",{staticClass:"rg-title"},[a("div",{staticClass:"rg-title-left"},[t._v("Task")]),t._v(" "),a("div",{staticClass:"rg-title-right"},[a("div",[t._v("sys")]),t._v(" "),a("div",[t._v("tem")])])]),t._v(" "),a("el-form-item",{attrs:{prop:"accountName",label:" "}},[a("el-input",{attrs:{placeholder:"用户名","suffix-icon":"el-icon-user"},model:{value:t.form.accountName,callback:function(e){t.$set(t.form,"accountName",e)},expression:"form.accountName"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password",label:" "}},[a("el-input",{attrs:{placeholder:"密码","show-password":""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"email",label:" "}},[a("el-input",{attrs:{placeholder:"邮箱",type:"email","suffix-icon":"el-icon-message"},on:{blur:t.checkEmail},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"activationCode",label:" "}},[a("el-input",{attrs:{placeholder:"激活码，获取请发送邮件到XXX","suffix-icon":"el-icon-notebook-1"},model:{value:t.form.activationCode,callback:function(e){t.$set(t.form,"activationCode",e)},expression:"form.activationCode"}})],1),t._v(" "),a("el-form-item",[a("el-button-group",{staticClass:"btn-group"},[a("el-button",{staticClass:"btn",attrs:{type:"primary",plain:""},on:{click:t.back}},[t._v("返回")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.register}},[t._v("注册")])],1)],1)],1),t._v(" "),a("h3",[t._v("用户注册")]),t._v(" "),a("h5",[t._v("CopyRight © 2021.07 XXXX")])],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,s,!1,function(t){a("4aeZ")},"data-v-d90df542",null);e.a=l.exports},"6G+x":function(t,e,a){"use strict";var n=a("w7XY"),r=a("JaHG"),o={components:{},computed:{},methods:{createActivationCode:function(){var t=this;this.$prompt("请输入被邀请者邮箱").then(function(e){var a=e.value;if(a){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(a))return void t.$alert("邮箱格式不正确").catch(function(){});var o=Object(r.i)();n.a.addData("activationCode",{email:a,code:o}).then(function(){t.$alert("激活码是:"+o).catch(function(){}),console.log("激活码是:"+o)}).catch(function(e){t.$alert("无法创建激活码:"+e).catch(function(){})})}}).catch(function(){})}},data:function(){return{titleArr:["Wo","rld"]}},created:function(){},mounted:function(){}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",{staticClass:"mg"},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"1",mode:"horizontal"}},[e("el-menu-item",{attrs:{index:"2"},on:{click:this.createActivationCode}},[this._v("生成激活码")])],1),this._v(" "),e("el-main"),this._v(" "),e("el-footer")],1)},staticRenderFns:[]};a("VU/8")(o,i,!1,function(t){a("CQ2R")},"data-v-51944a4e",null).exports},"6Pky":function(t,e){},"7oBN":function(t,e){},CQ2R:function(t,e){},FhoZ:function(t,e,a){"use strict";(function(e){const n=a("o/zv");t.exports={dev:{assetsSubDirectory:"static",assetsPublicPath:"/",proxyTable:{"/api/":{target:"",changeOrigin:!0,secure:!1,logLevel:"debug"}},host:"localhost",port:8087,autoOpenBrowser:!1,errorOverlay:!0,notifyOnErrors:!0,poll:!1,useEslint:!0,showEslintErrorsInOverlay:!1,devtool:"cheap-module-eval-source-map",cacheBusting:!0,cssSourceMap:!0},build:{index:n.resolve(e,"../dist/index.html"),assetsRoot:n.resolve(e,"../dist"),assetsSubDirectory:"static",assetsPublicPath:"./",productionSourceMap:!0,devtool:"#source-map",productionGzip:!1,productionGzipExtensions:["js","css"],bundleAnalyzerReport:Object({NODE_ENV:"production"}).npm_config_report},ls:{containerHost:"https://gw.sit.ebaocloud.com",appHost:"https://tst-li.insuremo.com",bsPath:"https://gw.sit.ebaocloud.com/narwalli/1.0/narwalli-bs",loginExpireSeconds:7200,tenant:"narwalli",productMinPrem:7,tokenUrl:"https://portal-tst.insuremo.com/cas/ebao/v1/json/tickets",contentHeader:{"Content-Type":"application/json"},avatarPath:"images/user_icon/",frontendPage:"https://tst-li.insuremo.com/narwalli/narwalli-frontend/",smsSendTime:60,loading:{lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}},common:{appTitle:"Task System--Manage Your Tasks",leanAppId:"RfbSVE9Jb7q1ssKr1UVEudXg-MdYXbMMI",leanAppKey:"jfyLVmQBnTjJepACzsmaLXLX",leanRegion:"us",pageNumber:10}}}).call(e,"/")},JaHG:function(t,e,a){"use strict";e.c=v,e.h=function(t,e){var a=v(t),n=e;a&&"object"===(void 0===a?"undefined":i()(a))&&(n=u()(a,e));sessionStorage.setItem(t,l()(n))},e.a=function(t,e,a){var n=e.key,o=e.value,i=null,s=!0,l=!1,c=void 0;try{for(var u,d=r()(t);!(s=(u=d.next()).done);s=!0){var f=u.value;f[n]===o&&(i=f[a])}}catch(t){l=!0,c=t}finally{try{!s&&d.return&&d.return()}finally{if(l)throw c}}return i},e.i=function(){for(var t=[],e=0;e<36;e++)t[e]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},e.f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a="success";2===e?a="info":3===e?a="warning":4===e&&(a="danger");this.$message({type:a,message:t})},a.d(e,"b",function(){return h}),a.d(e,"g",function(){return k}),a.d(e,"e",function(){return y}),a.d(e,"d",function(){return g});var n=a("BO1k"),r=a.n(n),o=a("pFYg"),i=a.n(o),s=a("mvHQ"),l=a.n(s),c=a("woOf"),u=a.n(c),d=a("mtWM"),f=a.n(d),p=a("FhoZ"),m=a.n(p);function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={};return a=e?u()({},e,{"X-ebao-tenant-id":m.a.ls.tenant},b()):u()({},{"X-ebao-tenant-id":m.a.ls.tenant},b()),f.a.get(t,{headers:a}).then(function(t){return t.data}).then(function(t){if(1===t.result)return t;throw new Error("error when get api,response:"+l()(t))}).catch(function(t){throw new Error("error when get api,"+t)})}function v(t){var e=sessionStorage.getItem(t),a=null;return e&&(a=JSON.parse(e)),a}function b(){var t=sessionStorage.getItem("loginUser"),e={};t&&(e={authorization:JSON.parse(t).auth});return e}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return n=a?u()({},a,{"X-ebao-tenant-id":m.a.ls.tenant},b()):u()({},{"X-ebao-tenant-id":m.a.ls.tenant},b()),f.a.post(t,e,{headers:n}).then(function(t){return t.data}).then(function(t){if(1===t.result)return t;throw l()(t)})}function g(t){this.$router.push(t)}function y(t){var e=void 0,n=void 0;"zh"===t?(e=a("Sc0B"),n=a("5LDN")):(e=a("sNKv"),n=a("ozt+"));var r={};return e.keys().forEach(function(t){r=u()(r,e(t).default)}),n.keys().forEach(function(t){r=u()(r,n(t).default)}),r}},KIsD:function(t,e){},LVcC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("JaHG"),r=Object(n.e)("en");e.default=r},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("mtWM"),r=a.n(n),o=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view",{staticClass:"router-view"})],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App",computed:{},watch:{},data:function(){return{}},methods:{}},i,!1,function(t){a("KIsD")},null,null).exports,l=a("YaEn"),c=(a("j1ja"),a("zL8q")),u=a.n(c),d=a("Vi3T"),f=a.n(d),p=(a("tvR6"),a("sfy8"),a("TXmL"));o.default.use(p.a);new p.a({locale:localStorage.getItem("pocLang")||"en",fallbackLocale:Object({NODE_ENV:"production"}).VUE_APP_I18N_FALLBACK_LOCALE||"en",messages:(m=a("kLuJ"),h={},m.keys().forEach(function(t){var e=t.match(/([A-Za-z0-9-_]+)\./i);if(e&&e.length>1){var a=e[1];h[a]=m(t).default}}),h)}),a("ZhUg"),a("XRwP");var m,h,v=a("JaHG"),b=a("FhoZ"),k=a.n(b),g=a("w7XY");o.default.use(u.a,{locale:f.a}),o.default.config.productionTip=!1,l.a.beforeEach(function(t,e,a){var n=g.a.User.current();"Login"===t.name||"Register"===t.name||n?a():a("/Login")}),o.default.prototype.$http=r.a,o.default.prototype.$linkTo=v.d,o.default.prototype.$post=v.g,o.default.prototype.$get=v.b,o.default.prototype.$log=console.log,o.default.prototype.$loadingConfig=k.a.ls.loading,o.default.prototype.$config=k.a,o.default.prototype.$msg=v.f,o.default.prototype.$t=function(t){return t},new o.default({el:"#app",router:l.a,components:{App:s},template:"<App/>"})},OhIg:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={Back:"返回",Home:"首页",Policies:"保单",zh:"English",Search:"搜索",My:"我的",MyPolicy:"我的保单",MyCs:"我的CS",MyClaim:"我的理赔",LogOut:"退出"}},Sc0B:function(t,e){function a(t){throw new Error("Cannot find module '"+t+"'.")}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id="Sc0B"},SkWn:function(t,e){},XRwP:function(t,e){},YIQA:function(t,e,a){"use strict";var n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",{staticClass:"err"},[e("el-main",[this._v("\n    你所访问的页面不存在或者没有权限！\n  ")])],1)},staticRenderFns:[]};var r=a("VU/8")({computed:{},methods:{},data:function(){return{}},created:function(){},mounted:function(){}},n,!1,function(t){a("SkWn")},null,null);e.a=r.exports},YaEn:function(t,e,a){"use strict";(function(t){var n=a("7+uW"),r=a("/ocq"),o=a("esL9"),i=a("uCMJ"),s=a("68di"),l=(a("6G+x"),a("YIQA")),c=a("wzCw");n.default.use(r.a);var u=r.a.prototype.push;r.a.prototype.push=function(t){return u.call(this,t).catch(function(t){return t})},e.a=new r.a({base:t,routes:[{path:"/",name:"Home",component:o.a},{path:"/Login",name:"Login",component:i.a},{path:"/Register",name:"Register",component:s.a},{path:"/Test",name:"Test",component:c.a},{path:"*",name:"Error",component:l.a}]})}).call(e,"/")},ZhUg:function(t,e){},cGu5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={Back:"Back",Home:"Home",MyPolicy:"MyPolicy",en:"中文",Search:"Search",My:"My",LogOut:"LogOut"}},esL9:function(t,e,a){"use strict";var n=a("mvHQ"),r=a.n(n),o=a("BO1k"),i=a.n(o),s=a("woOf"),l=a.n(s),c=a("w7XY"),u={1:{artifactId:{title:"工件号码",type:"text"},module:{title:"所属模块",type:"select",options:[{value:1,label:"CLAIM"},{value:2,label:"PORTAL"},{value:3,label:"NB"},{value:4,label:"CS"},{value:5,label:"FINANCE"},{value:6,label:"PRODUCT"},{value:7,label:"SCP"},{value:8,label:"OTHER"}]},desc:{title:"问题描述"},data:{title:"错误数据"},analyse:{title:"问题分析"},reason:{title:"问题原因"},title:{title:"修复方法"}},2:{artifactId:{title:"工件",type:"text"},module:{title:"模块",type:"select",options:[{value:1,label:"CLAIM"},{value:2,label:"PORTAL"},{value:3,label:"NB"},{value:4,label:"CS"},{value:5,label:"FINANCE"},{value:6,label:"PRODUCT"},{value:7,label:"SCP"},{value:8,label:"OTHER"}]},effort:{title:"人天",type:"number"},desc:{title:"描述"},analyse:{title:"分析"},changes:{title:"改动"},test:{title:"测试"}},3:{content:{title:"描述"}}},d=a("JaHG"),f={components:{},computed:{},created:function(){},mounted:function(){this.queryStatusList(this.queryTaskList.bind(this)),this.isAdmin()},methods:{getTaskType:function(t){if(!t.row)return"";switch(t.row.taskType){case 1:return"ISSUE";case 2:return"CR";default:return"TODO"}},tableRowClassName:function(t){t.row;var e=t.rowIndex;return 0===e?"ts-bg-danger":1===e?"ts-bg-warning":2===e?"ts-bg-success":""},addTask:function(){var t=this;this.taskName&&c.a.addData("taskList",{taskName:this.taskName,taskType:this.taskType,createUser:this.createUser},function(e){t.taskName="",t.$confirm("创建成功!立刻开始任务?").then(function(a){var n={row:{taskStatus:{taskStatusId:1},objectId:e.objectId}};t.setStatus(n)}).catch(function(e){t.queryTaskList()})})},queryTaskList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=Object(d.a)(this.statusOption,{key:"taskStatusId",value:2},"objectId"),n=c.a.Object.createWithoutData("taskStatus",a),r=this.pageSize,o=(e-1)*r,i=[{operator:"==",data:[{createUser:this.createUser}]},{operator:"<>",data:[{taskStatus:n}]},{operator:"limit",data:[{count:r}]},{operator:"skip",data:[{count:o}]},{operator:"order",data:[{asc:"order"}]},{operator:"include",data:[{field:"taskStatus"}]}];"taskFinished"===this.activeTab&&(i=[{operator:"==",data:[{taskStatus:n},{createUser:this.createUser}]},{operator:"limit",data:[{count:r}]},{operator:"skip",data:[{count:o}]},{operator:"order",data:[{desc:"finishTime"}]},{operator:"include",data:[{field:"taskStatus"}]}]),this.search&&(1===this.searchType?i.push({operator:"like",data:[{taskName:this.search}]}):i.push({operator:"like",data:[{detail:this.search}]})),c.a.queryData("taskList",i).then(function(e){t.taskList=e}),c.a.queryData("taskList",i,!0).then(function(e){t.totalCount=e})},queryStatusList:function(t){var e=this,a=Object(d.c)("taskStatusList");a?(this.statusOption=a,t()):c.a.queryData("taskStatus").then(function(t){t.forEach(function(t){t.value=t.taskStatusId,t.label=t.taskStatusName}),e.statusOption=t,Object(d.h)("taskStatusList",t)}).then(function(){t()})},handleDelete:function(t){var e=this,a=t.row.objectId;this.$confirm("确认删除任务?").then(function(t){c.a.deleteData("taskList",a).then(function(t){t?e.queryTaskList():e.$msg("删除失败!")})}).catch(function(t){})},tabClick:function(){this.queryTaskList(),this.restDetail(),this.search=""},setStatus:function(t){var e=this,a=t.row,n=a.taskStatus,r=a.objectId,o=n.taskStatusId,i={},s=new Date;1===o&&(i={startTime:s}),2!==o&&3!==o||(i={finishTime:s});var u=Object(d.a)(this.statusOption,{key:"taskStatusId",value:o},"objectId"),f={tableName:"taskList",data:l()({},{taskStatus:"[RELATED]"},i),objectId:r},p={tableName:"taskStatus",objectId:u};c.a.updateData(f,p).then(function(t){t?e.queryTaskList():e.$msg("更新状态失败!",4)}).catch(function(t){e.$msg("更新状态失败!",4)})},formatDate:function(t,e,a,n){var r=a;if(a){var o=new Date(a);r=(r=new Date(o.getTime()+288e5)).toJSON()}return r&&(r=(r=(r=r.replace("T"," ")).replace("Z","")).replace(/\.[0-9]+/,"")),r},setTopLevel:function(t){var e=this;c.a.queryData("taskList",[{operator:"<",data:[{order:1}]},{operator:"==",data:[{createUser:this.createUser}]}]).then(function(t){var e=1,a=!0,n=!1,r=void 0;try{for(var o,s=i()(t);!(a=(o=s.next()).done);a=!0){var l=o.value;e=e>l.order?l.order:e}}catch(t){n=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(n)throw r}}return e-1}).then(function(a){var n={tableName:"taskList",data:{order:a},objectId:t.row.objectId};c.a.updateData(n).then(function(t){t?e.queryTaskList():e.$alert("更新状态失败!")}).catch(function(t){console.error(t)})})},getTaskIcon:function(t){var e=t.row.taskType;return 1===e?"el-icon-lightning":2===e?"el-icon-sunny":"el-icon-cold-drink"},getTaskTime:function(t){var e=t.startTime,a=t.finishTime,n="",r=void 0,o=void 0,i=void 0;if(e&&a){var s=new Date(a)-new Date(e);return n+=(r=Math.round(s/1e3))+"秒",n+=" ("+(o=Math.round(r/60))+"分)",n+=" ("+(i=Math.round(o/60))+"时)",n+=" ("+Math.round(i/24)+"天)"}return""},editDetail:function(t){var e=t;"taskUnfinished"===this.activeTab&&(this.dialogEdit=!0,e=t.row);var a=e,n=a.taskType,r=a.objectId,o=a.detail;this.currentTaskType=n,this.currentObjectId=r,this.Model[n]=o?JSON.parse(o):c.a.decodeData(u)[n]},submitEdit:function(){var t=this;c.a.updateData({tableName:"taskList",objectId:this.currentObjectId,data:{detail:r()(this.Model[this.currentTaskType])}}).then(function(e){t.queryTaskList(),t.$msg("修改成功",1)}).catch(function(e){t.$msg("获取数据失败,"+e)}).finally(function(){"taskUnfinished"===t.activeTab&&(t.dialogEdit=!1,t.restDetail())})},getTaskDetail:function(t){return t.row.detail?JSON.parse(t.row.detail):this.Model[t.row.taskType]},restDetail:function(){this.Model=c.a.decodeData(u)},changePageSize:function(t){this.pageSize=t,this.queryTaskList()},searchTask:function(){this.queryTaskList(),this.restDetail()},logOut:function(){c.a.User.logOut(),localStorage.clear(),sessionStorage.clear(),this.$linkTo("/Login")},createActivationCode:function(){var t=this;this.$prompt("请输入被邀请者邮箱").then(function(e){var a=e.value;if(a){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(a))return void t.$msg("邮箱格式不正确");var n=Object(d.i)();c.a.addData("activationCode",{email:a,code:n}).then(function(){t.$alert("激活码是:"+n).catch(function(){}),console.log("激活码是:"+n)}).catch(function(e){t.$msg("无法创建激活码:"+e).catch(function(){})})}}).catch(function(){})},isAdmin:function(){var t=this;c.a.isAdmin().then(function(e){t.admin=e})},updateTaskListAll:function(){new c.a.Query("taskList").find().then(function(t){t.forEach(function(t){console.log(c.a.decodeData(t));var e=c.a.decodeData(t);e.detail&&t.set("detail",r()(e.detail))}),c.a.Object.saveAll(t)})}},data:function(){var t=c.a.decodeData(c.a.User.current()),e=t.objectId,a=c.a.Object.createWithoutData("_User",e);return{activeTab:"taskUnfinished",taskName:null,taskType:1,taskList:[],search:"",Model:c.a.decodeData(u),activeNames:[],style:{tableHeight:620,operateWidth:165},statusOption:[],dialogEdit:!1,currentTaskType:1,currentObjectId:"",formLabelWidth:"120px",pageSize:this.$config.common.pageNumber,totalCount:0,admin:!1,currentUser:t,createUser:a,searchType:1,infoDrawer:!1,finishedTaskType:"ISSUE"}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"ts"},[a("el-container",[a("el-main",{staticClass:"cm-vertical cm-center cm-full-h cm-flex"},[a("div",{staticClass:"cm-full-w cm-horizon cm-space-b"},[a("el-input",{staticClass:"ts-input-add",attrs:{type:"text",placeholder:"Add Task"},model:{value:t.taskName,callback:function(e){t.taskName=e},expression:"taskName"}},[a("el-select",{staticClass:"ts-type",attrs:{slot:"prepend",placeholder:"任务类型"},slot:"prepend",model:{value:t.taskType,callback:function(e){t.taskType=e},expression:"taskType"}},[a("el-option",{attrs:{label:"ISSUE",value:1}}),t._v(" "),a("el-option",{attrs:{label:"CR",value:2}}),t._v(" "),a("el-option",{attrs:{label:"TODO",value:3}})],1),t._v(" "),a("el-button",{staticClass:"ts-input-btn",attrs:{slot:"append",icon:"el-icon-document-add"},on:{click:t.addTask},slot:"append"},[t._v("添加任务")])],1),t._v(" "),a("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-s-tools"},on:{click:function(e){t.infoDrawer=!0}}},[t._v("菜单")])],1),t._v(" "),a("el-tabs",{staticClass:"ts-tabs cm-vertical cm-flex cm-overflow-h",on:{"tab-click":t.tabClick},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"进行中",name:"taskUnfinished"}},[a("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:t.taskList,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"taskType",width:"40"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{class:t.getTaskIcon(e)})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"任务"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"taskStatus",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{size:"mini"},on:{change:function(a){return t.setStatus(e)}},model:{value:e.row.taskStatus.taskStatusId,callback:function(a){t.$set(e.row.taskStatus,"taskStatusId",a)},expression:"scope.row.taskStatus.taskStatusId"}},t._l(t.statusOption,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createdAt",sortable:"",formatter:t.formatDate,width:t.style.operateWidth,label:"创建日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"startTime",sortable:"",formatter:t.formatDate,width:t.style.operateWidth,label:"开始日期"}}),t._v(" "),a("el-table-column",{attrs:{width:"200",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"关键字搜索"},on:{change:t.searchTask,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchTask(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("el-select",{staticClass:"ts-type2",attrs:{slot:"prepend",placeholder:"任务类型"},on:{change:t.searchTask},slot:"prepend",model:{value:t.searchType,callback:function(e){t.searchType=e},expression:"searchType"}},[a("el-option",{attrs:{label:"标题",value:1}}),t._v(" "),a("el-option",{attrs:{label:"详情",value:2}})],1)],1)]}},{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{size:"mini",icon:"el-icon-upload2"},on:{click:function(a){return a.stopPropagation(),t.setTopLevel(e)}}}),t._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-edit"},on:{click:function(a){return a.stopPropagation(),t.editDetail(e)}}}),t._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-delete"},on:{click:function(a){return a.stopPropagation(),t.handleDelete(e)}}})],1)]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"cm-padding-v cm-horizon cm-center",attrs:{small:"","page-sizes":[10,20,30,40],layout:"prev, pager, next,sizes",total:t.totalCount},on:{"current-change":t.queryTaskList,"prev-click":t.queryTaskList,"next-click":t.queryTaskList,"size-change":t.changePageSize}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"已完成",name:"taskFinished"}},[a("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:t.taskList,"row-class-name":t.tableRowClassName},on:{"expand-change":t.editDetail}},[a("el-table-column",{attrs:{type:"expand",width:"40"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"cm-flex ts-expand-left",attrs:{"label-position":"left"}},[a("el-form-item",{attrs:{label:"任务类型"}},[a("span",[t._v(t._s(t.getTaskType(e)))])]),t._v(" "),a("el-form-item",{attrs:{label:"创建日期"}},[a("span",[t._v(t._s(t.formatDate(null,null,e.row.createdAt)))])]),t._v(" "),a("el-form-item",{attrs:{label:"开始日期"}},[a("span",[t._v(t._s(t.formatDate(null,null,e.row.startTime)))])]),t._v(" "),a("el-form-item",{attrs:{label:"完成日期"}},[a("span",[t._v(t._s(t.formatDate(null,null,e.row.finishTime)))])]),t._v(" "),a("el-form-item",{attrs:{label:"任务时长"}},[a("span",[t._v(t._s(t.getTaskTime(e.row)))])])],1),t._v(" "),a("el-form",{staticClass:"cm-flex ts-expand-right",attrs:{"label-width":"80px","label-position":"left"},model:{value:t.Model[t.currentTaskType],callback:function(e){t.$set(t.Model,t.currentTaskType,e)},expression:"Model[currentTaskType]"}},[t._l(t.Model[t.currentTaskType],function(e){return a("el-form-item",{attrs:{label:e.title}},["select"!==e.type?a("el-input",{attrs:{size:"mini",type:e.type?e.type:"textarea"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}}):a("el-select",{staticClass:"cm-full-h",attrs:{size:"mini"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}},t._l(e.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)}),t._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.submitEdit}},[t._v("修 改")])],1)],2)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"任务"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"taskStatus",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{size:"mini",disabled:""},model:{value:e.row.taskStatus.taskStatusId,callback:function(a){t.$set(e.row.taskStatus,"taskStatusId",a)},expression:"scope.row.taskStatus.taskStatusId"}},t._l(t.statusOption,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"startTime",sortable:"",formatter:t.formatDate,width:t.style.operateWidth,label:"开始日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"finishTime",sortable:"",formatter:t.formatDate,width:t.style.operateWidth,label:"完成日期"}}),t._v(" "),a("el-table-column",{attrs:{width:"200",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"关键字搜索"},on:{change:t.searchTask,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchTask(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("el-select",{staticClass:"ts-type2",attrs:{slot:"prepend",placeholder:"任务类型"},on:{change:t.searchTask},slot:"prepend",model:{value:t.searchType,callback:function(e){t.searchType=e},expression:"searchType"}},[a("el-option",{attrs:{label:"标题",value:1}}),t._v(" "),a("el-option",{attrs:{label:"详情",value:2}})],1)],1)]}},{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{size:"mini",icon:"el-icon-delete"},on:{click:function(a){return a.stopPropagation(),t.handleDelete(e)}}})],1)]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"cm-padding-v cm-horizon cm-center",attrs:{small:"","page-sizes":[10,20,30,40],layout:"prev, pager, next,sizes",total:t.totalCount},on:{"current-change":t.queryTaskList,"prev-click":t.queryTaskList,"next-click":t.queryTaskList,"size-change":t.changePageSize}})],1)],1)],1),t._v(" "),a("el-drawer",{attrs:{visible:t.infoDrawer,size:"20%",direction:"rtl"},on:{"update:visible":function(e){t.infoDrawer=e}}},[a("el-aside",{staticClass:"cm-full-h cm-padding cm-vertical cm-space-b",attrs:{width:"100%"}},[a("div",[a("h4",[a("i",{staticClass:"el-icon-info"}),t._v("提示\n          ")]),t._v(" "),a("br"),t._v(" "),a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"如何新增任务",name:"1"}},[a("div",{staticClass:"ts-aside-text"},[t._v("左侧输入框中，下拉选择任务类型，输入任务名称，点击“添加任务”按钮，添加成功后可以选择是否立刻开始任务")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"任务的状态",name:"2"}},[a("div",{staticClass:"ts-aside-text"},[t._v("\n                任务有4个状态：准备做，进行中，测试中，已完成。\n                选择进行中，则系统记录任务开始时间。选择已完成，则系统记录任务的结束时间，任务终止，\n                可以在已完成任务中点击最左侧“>”查看任务时长\n              ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"设置优先级",name:"3"}},[a("div",{staticClass:"ts-aside-text"},[t._v("点击“Top Level”按钮，可以将该任务置顶，置顶的前三个任务分别显示红色第一优先级，橙色第二优先级，绿色第三优先级")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"编辑和删除任务",name:"4"}},[a("div",{staticClass:"ts-aside-text"},[t._v("如需要修改任务名等信息，可以删除重新创建，点击编辑按钮可以编辑cr和issue的人天，细节，修改代码等")])])],1)],1),t._v(" "),a("div",[a("h3",{staticClass:"cm-padding-v"},[t._v("welcome,"+t._s(t.currentUser.username))]),t._v(" "),a("el-button-group",[t.admin?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:t.createActivationCode}},[t._v("生成激活码")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:t.logOut}},[t._v("注销登录")])],1)],1)])],1)],1),t._v(" "),a("el-footer"),t._v(" "),a("aside",[a("el-dialog",{staticClass:"ts-dialog",attrs:{width:"800px",fullscreen:!0,title:"编辑任务",visible:t.dialogEdit,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogEdit=e}}},[a("el-form",{attrs:{inline:!0,"label-width":"80px",model:t.Model[t.currentTaskType]}},t._l(t.Model[t.currentTaskType],function(e){return a("el-form-item",{attrs:{label:e.title}},["select"!==e.type?a("el-input",{attrs:{size:"mini",type:e.type?e.type:"textarea",autocomplete:"off"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}}):a("el-select",{attrs:{size:"mini"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}},t._l(e.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)}),1),t._v(" "),a("div",{staticClass:"dialog-footer cm-horizon cm-center",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogEdit=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.submitEdit}},[t._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(f,p,!1,function(t){a("fwoT")},null,null);e.a=m.exports},fwoT:function(t,e){},kLuJ:function(t,e,a){var n={"./en.js":"LVcC","./zh.js":"r3Gj"};function r(t){return a(o(t))}function o(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id="kLuJ"},"ozt+":function(t,e,a){var n={"./Header/en.js":"cGu5"};function r(t){return a(o(t))}function o(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id="ozt+"},r3Gj:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("JaHG"),r=Object(n.e)("zh");e.default=r},sNKv:function(t,e){function a(t){throw new Error("Cannot find module '"+t+"'.")}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id="sNKv"},sfy8:function(t,e){},tvR6:function(t,e){},uCMJ:function(t,e,a){"use strict";var n=a("FhoZ"),r=a.n(n),o=a("JaHG"),i=a("w7XY"),s={components:{},computed:{},methods:{back:function(){this.$router.push("/login")},checkEmail:function(){},login:function(){var t=this;this.$refs.form.validate(function(e){if(e){var a=t.$loading(r.a.common.loading),n=t.form;i.a.User.logIn(n.accountName,n.password).then(function(e){e&&i.a.User.current().getRoles().then(function(e){var a=i.a.decodeData(e);Object(o.h)("currentUserRoles",a),t.$linkTo("/")})}).catch(function(e){t.$alert(t.$t("")+"error"+e).catch(function(){}),console.error("error of Home module",e)}).finally(function(){a.close()})}})},sendSms:function(){var t=this.form.mobile;if(t){/^[1][3,4,5,7,8][0-9]{9}$/.test(t)||this.$alert(this.$t("InvalidPhoneNumber")).catch(function(){})}else this.$alert(this.$t("InvalidPhoneNumber")).catch(function(){})}},data:function(){return{titleArr:["Wo","rld"],form:{accountName:"",password:"",mobile:"",email:"",code:"",verifyType:"sms"},sendButton:this.$t("Send"),sendButtonDisabled:!1,checkRules:{accountName:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],email:[{required:!0,validator:function(t,e,a){e||a(new Error("请输入邮箱地址"));/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(e)||a(new Error("邮箱格式不正确"))},trigger:"blur"}],mobile:[{required:!0,message:this.$t("Input_phone"),trigger:"blur"}],code:[{required:!0,message:"",trigger:"blur"}]}}},created:function(){},mounted:function(){}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"rg"},[a("el-main",{staticClass:"rg-main"},[a("el-form",{ref:"form",staticClass:"rg-form cm-flex",attrs:{"label-position":"left","label-width":"15px",model:t.form,size:"medium",rules:t.checkRules}},[a("div",{staticClass:"rg-title"},[a("div",{staticClass:"rg-title-left"},[t._v("Task")]),t._v(" "),a("div",{staticClass:"rg-title-right"},[a("div",[t._v("sys")]),t._v(" "),a("div",[t._v("tem")])])]),t._v(" "),a("el-form-item",{attrs:{prop:"accountName",label:" "}},[a("el-input",{attrs:{placeholder:"用户名","suffix-icon":"el-icon-user"},model:{value:t.form.accountName,callback:function(e){t.$set(t.form,"accountName",e)},expression:"form.accountName"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password",label:" "}},[a("el-input",{attrs:{placeholder:"密码","show-password":""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),a("el-form-item",[a("el-button-group",{staticClass:"btn-group"},[a("el-button",{staticClass:"btn",attrs:{type:"primary",plain:""},on:{click:function(e){return t.$linkTo("/register")}}},[t._v("注册")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")])],1)],1)],1),t._v(" "),a("h3",[t._v("用户登录")]),t._v(" "),a("h5",[t._v("CopyRight © 2021.07 XXXX")])],1)],1)},staticRenderFns:[]};var c=a("VU/8")(s,l,!1,function(t){a("6Pky")},"data-v-f905e328",null);e.a=c.exports},w7XY:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var n=a("mvHQ"),r=a.n(n),o=a("BO1k"),i=a.n(o),s=a("FhoZ"),l=a.n(s),c=a("sUHJ");function u(t){return JSON.parse(r()(t))}c.init({appId:l.a.common.leanAppId,appKey:l.a.common.leanAppKey,region:l.a.common.leanRegion}),c.addData=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new c.Object(t);for(var o in e)e.hasOwnProperty(o)&&n.set(o,e[o]);return n.save().then(function(t){if(t){var e=JSON.parse(r()(t));return a&&a(e),e}throw new Error("data error")}).catch(function(t){console.error(t)})},c.queryData=function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=new c.Query(t);if(a){var s=!0,l=!1,u=void 0;try{for(var d,f=i()(a);!(s=(d=f.next()).done);s=!0){var p=d.value,m=!0,h=!1,v=void 0;try{for(var b,k=i()(p.data);!(m=(b=k.next()).done);m=!0){var g=b.value;for(var y in g)if(g.hasOwnProperty(y))switch(p.operator){case"==":o.equalTo(y,g[y]);break;case"<>":o.notEqualTo(y,g[y]);break;case">":o.greaterThan(y,g[y]);break;case"<":o.lessThan(y,g[y]);break;case"<=":o.lessThanOrEqualTo(y,g[y]);break;case">=":o.greaterThanOrEqualTo(y,g[y]);break;case"order":"asc"===y?o.addAscending(g[y]):o.addDescending(g[y]);break;case"limit":o.limit(g[y]);break;case"include":o.include(g[y]);break;case"like":var w=g[y],_=new RegExp(".*("+w+")+","ig");o.matches(y,_);break;case"skip":o.skip(g[y])}}}catch(t){h=!0,v=t}finally{try{!m&&k.return&&k.return()}finally{if(h)throw v}}}}catch(t){l=!0,u=t}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}return n?o.count().then(function(t){return JSON.parse(r()(t))}).catch(function(t){e.$msg("error when get data:"+t)}):o.find().then(function(t){return JSON.parse(r()(t))}).catch(function(t){e.$msg("error when get data:"+t)})},c.getData=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2],new c.Query(t).get(e).then(function(t){return u(t)}).catch(function(t){console.error(t)})},c.updateData=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=void 0;e&&(a=c.Object.createWithoutData(e.tableName,e.objectId));var n=c.Object.createWithoutData(t.tableName,t.objectId);for(var r in t.data)if(t.data.hasOwnProperty(r)){var o=t.data[r];"[RELATED]"===o?n.set(r,a):n.set(r,o)}return n.save().then(function(t){return u(t)})},c.deleteData=function(t,e){return c.Object.createWithoutData(t,e).destroy()},c.decodeData=u,c.isAdmin=function(){return c.User.current().getRoles().then(function(t){var e=c.decodeData(t),a=!1,n=!0,r=!1,o=void 0;try{for(var s,l=i()(e);!(n=(s=l.next()).done);n=!0)if("admin"===s.value.name){a=!0;break}}catch(t){r=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return a})}},wzCw:function(t,e,a){"use strict";var n={computed:{},methods:{propEvent:function(t){console.log(t)}},data:function(){return{index:1}},created:function(){},mounted:function(){}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("article",[e("div",{staticStyle:{height:"100px",width:"100px",float:"left",background:"lightblue"}},[this._v("我是一个左浮动的元素")]),this._v(" "),e("div",{staticStyle:{width:"200px",height:"200px",background:"#eee"}},[this._v("我是一个没有设置浮动,\n也没有触发 BFC 元素, width: 200px; height:200px; background: #eee;")]),this._v(" "),e("div",{on:{click:this.propEvent}},[e("button",[this._v("事件委托，冒泡事件")])])])},staticRenderFns:[]};var o=a("VU/8")(n,r,!1,function(t){a("7oBN")},"data-v-4bf4e3f8",null);e.a=o.exports}},["NHnr"]);
//# sourceMappingURL=app.01b9a22f8c038d84b2fe.js.map